<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Destiny 2 Stat Tracker - Honours Project</title>
    <link rel="stylesheet" href="StyleHome.css" />
    <script src="JavaScript1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
</head>

<!--Summary every time the body is refreshed, a new access token should be requested-->
<body onload="getAccessToken()">
    <h1 class = "TEXT" id="title">Destiny 2 Stat Tracker</h1>
    
    <!-- Summary of lightDarkModeToggle
        Allows the user to swap between a light or dark theme
    -->
    <div class="lightDarkModeToggle">
        <p class="TEXT">Dark Mode: </p>
        <label class="switch">
            <input id="lightDarkSwitch" type="checkbox" onclick="lightDarkSwitch()">
            <span class="slider round"></span>
        </label>
    </div>

    <!-- Summary of searchAndLoginDiv:
         - Holds a "Box" of elements that create the search functionality
             - A Heading to display text indicating the use of the box
             - An input to allow users to enter in a username to search
             - A Button to execute the player search request
         - A "Box" to hold the log in button
             - A Button that executes the Oauth process
    -->
    <div class="searchAndLoginDiv">
        <div class="searchBox">
            <h2 class="TEXT">Player Search</h2>
            <p class="TEXT" id="playerNameLabel">Player Name: </p>
            <input id="inputBox" class="search" placeholder="JohnSmith"/>
            <button id="searchButton" type="button" onclick="searchForUser()">Search</button>
        </div>
        <div class="loginButtonBox">
            <button id="loginButton" type="button" onclick="loginToAccount(); return false;">Login</button>
        </div>
        <div class="socialButtonsBox">
            <button id="sendFriendRequestButton" type="button" onclick="sendFriendRequest();">Send Friend Request</button>
        </div>
    </div>

    <!-- Summary of historyBox
        - A Heading to tell the user what the box does
        - A "Box" where each player's display name is stored as a button
          - When a button is clicked it fetches data relevant to that player
          - Clicking on "theJohnSmith" button fetches data about the player called "theJohnSmith"
    -->
    <div class="historyBox">
        <h3 class="TEXT" id="searchResultsTitle">Recent Searches</h3>
        <div id="searchResultsBox"></div>
    </div>

    <!-- Summary of characterAndEquipmentGrid
        - Holds 3 "containers"
          1. Characters
             1.1. Title to tell what the container holds
             1.2. Information tell the user that clicking on a sub container provides more details
             1.3. Individual Character Containers
                 1.3.1. An image banner, unique to each Character
                 1.3.2. Text to identify the character's class
                 1.3.3. Text to identify the character's race
                 1.3.4. Text to show the character's current power level
                 1.3.5. Text to show the character's current level
          2. Weapons
            2.1. Title to tell the user this container holds their current equipped weaponry
            2.2. Various "containers" for each of the different types of weapons (Kinetic, Energy and Power)
                2.2.1. Icon of the current weapon
                2.2.2. A container used for styling but holds the weapon's Name, Type and Unique Description
                       E.g. Syncopation-53, Pulse Rifle, "SUROS asks that you spice things up"
            2.3. Containers that hold the player's current character inventory ***ONLY POPULATED IF AUTHNTICATED***
                These containers are populated with the icons of the other images
          3. Armour
            3.1. Title to tell the user this container holds their current equipped armour
            3.2. Various "containers" for each of the different types of armour (Helmet, Gaunlets, Chest, Leg and Class)
                3.2.1. Icon of the current armour
                3.2.2. A container used for styling but holds the armour's Name, Type
                       E.g. Prophet Snow, Helmet,
            3.3. Containers that hold the player's current character inventory ***ONLY POPULATED IF AUTHNTICATED***
                These containers are populated with the icons of the other images
    -->
    <div class="characterAndEquipmentGrid">
        <div class="charactersContainer">
            <p class="characterContainerTitle TEXT">Guardians</p>
            <p class="TEXT" id="charactersContainerInfo">Click Guardian for detailed view</p>
            <div class="characterContainer" id="characterContainer1">
                <img class="emblemBackground" id="background1" alt="">
                <p class="classText" id="classText1"></p>
                <p class="raceText" id="raceText1"></p>
                <p class="powerText" id="powerText1">Power Level: </p>
                <p class="levelText" id="levelText1">Level: </p>
            </div>
            <div class="characterContainer" id="characterContainer2">
                <img class="emblemBackground" id="background2" alt="">
                <p class="classText" id="classText2"></p>
                <p class="raceText" id="raceText2"></p>
                <p class="powerText" id="powerText2">Power Level: </p>
                <p class="levelText" id="levelText2">Level: </p>
            </div>
            <div class="characterContainer" id="characterContainer3">
                <img class="emblemBackground" id="background3" alt="">
                <p class="classText" id="classText3"></p>
                <p class="raceText" id="raceText3"></p>
                <p class="powerText" id="powerText3">Power Level: </p>
                <p class="levelText" id="levelText3">Level: </p>
            </div>
        </div>

        <div class="weaponsContainer" id="weaponsContainer">
            <p class="TEXT" id="weaponsTitle">Weapons</p>
            <div class="kineticWeaponDiv">
                <img id="kineticWeaponImage">
                <div id="kineticWeaponText">
                    <p class="TEXT" id="kineticWeaponName"></p>
                    <p class="TEXT" id="kineticWeaponType"></p>
                    <p class="TEXT" id="kineticWeaponDesc"></p>
                </div>
            </div>
            <br>
            <div class="inventory" id="kineticWeaponInventory">
                <!--Add Images here-->
            </div>
            <div class="energyWeaponDiv">
                <img id="energyWeaponImage">
                <div id="energyWeaponText">
                    <p class="TEXT" id="energyWeaponName"></p>
                    <p class="TEXT" id="energyWeaponType"></p>
                    <p class="TEXT" id="energyWeaponDesc"></p>
                </div>
            </div>
            <br>
            <div class="inventory" id="energyWeaponInventory">
                <!--Add Images here-->
            </div>
            <div class="powerWeaponDiv">
                <img id="powerWeaponImage">
                <div id="powerWeaponText">
                    <p class="TEXT" id="powerWeaponName"></p>
                    <p class="TEXT" id="powerWeaponType"></p>
                    <p class="TEXT" id="powerWeaponDesc"></p>
                </div>
            </div>
            <br>
            <div class="inventory" id="powerWeaponInventory">
                <!--Add Images here-->
            </div>
        </div>

        <div class="armourContainer" id="armourContainer">
            <p class="TEXT" id="armourTitle">Armour</p>
            <div class="helmetArmourDiv">
                <img id="helmetArmourImage">
                <div id="helmetArmourText">
                    <p class="TEXT" id="helmetArmourName"></p>
                    <p class="TEXT" id="helmetArmourType"></p>
                </div>                
            </div>
            <br>
            <div class="inventory" id="helmetArmourInventory">
                <!--Add Images here-->
            </div>
            <div class="gaunletsArmourDiv">
                <img id="gaunletsArmourImage">
                <div id="gaunletsArmourText">
                    <p class="TEXT" id="gaunletsArmourName"></p>
                    <p class="TEXT" id="gaunletsArmourType"></p>
                </div>
            </div>
            <br>
            <div class="inventory" id="gaunletsArmourInventory">
                <!--Add Images here-->
            </div>
            <div class="chestArmourDiv">
                <img id="chestArmourImage">
                <div id="chestArmourText">
                    <p class="TEXT" id="chestArmourName"></p>
                    <p class="TEXT" id="chestArmourType"></p>
                </div>
            </div>
            <br>
            <div class="inventory" id="chestArmourInventory">
                <!--Add Images here-->
            </div>
            <div class="legArmourDiv">
                <img id="legArmourImage">
                <div id="legArmourText">
                    <p class="TEXT" id="legArmourName"></p>
                    <p class="TEXT" id="legArmourType"></p>
                </div>
            </div>
            <br>
            <div class="inventory" id="legArmourInventory">
                <!--Add Images here-->
            </div>
            <div class="classArmourDiv">
                <img id="classArmourImage">
                <div id="classArmourText">
                    <p class="TEXT" id="classArmourName"></p>
                    <p class="TEXT" id="classArmourType"></p>
                </div>
            </div>
            <br>
            <div class="inventory" id="classArmourInventory">
                <!--Add Images here-->
            </div>
        </div>
    </div>
    
    <!-- Summary of statsContainer
        A title to show the user what the box holds
        Various text elements to show the user each character's unique stats
    -->
    <div class="statsContainer">
        <p class="baseStatContainerTitle TEXT">Character Base Stats</p>
        <div id="statsGrid">
            <p class="TEXT" id="powerStat">Power: </p>
            <p class="TEXT" id="mobilityStat">Mobility: </p>
            <p class="TEXT" id="resilienceStat">Resilience: </p>
            <p class="TEXT" id="recoveryStat">Recovery: </p>
            <p class="TEXT" id="disciplineStat">Discipline: </p>
            <p class="TEXT" id="intellectStat">Intellect: </p>
            <p class="TEXT" id="strengthStat">Strength: </p>
        </div>
    </div>

    <!-- Summary of profileStatBorder
         - Holds a title to tell the user these are statistics relating to their profile
         - A toggle to change the view between Player vs Entity and Player vs Player modes
         - 4 separate containers to hold different statistics.
             1. Best - Highest value for each stat
             2. General - Values relating to general gameplay such as time played
             3. Combat - Combat related values such as Kills, Deaths
             4. Support - Support related values such as Average Lifespan
        
         - They are all structured in the same way: 
            - A title to show the user these are their best stats
            - Various div elements that hold information and is styled into a grid
                - A title showing what the statistic is e.g. Highest Character Level
                - A paragraph that holds the value from the API data.
    -->
    <div class="profileStatBorder">
        <p class="TEXT" id="profileStatBoxTitle">Profile Stats</p>
        <div class="PvPToggle">
            <p class="TEXT">PvP Stats: </p>
            <label class="switch">
                <input id="pvpSwitch" type="checkbox" onclick="pvpStatSwitch()">
                <span class="slider round"></span>
            </label>
        </div>
        <div class="bestStatsBorder">
            <p class="TEXT" id="testStatTitle">Best</p>
            <div class="BestStatsGrid">
                <div>
                    <p class="TEXT" >Highest Character Level</p>
                    <p class="profileStat TEXT" id="highestCharacterLevelStat"></p>
                </div>
                <div>
                    <p class="TEXT" >Highest Power Level</p>
                    <p class="profileStat TEXT" id="highestPowerLevelStat"></p>
                </div>
                <div>
                    <p class="TEXT" >Best Score</p>
                    <p class="profileStat TEXT" id="bestScoreStat"></p>
                </div>
                <div>
                    <p class="TEXT" >Longest Single Life</p>
                    <p class="profileStat TEXT" id="longestSingleLifeStat"></p>
                </div>
                <div>
                    <p class="TEXT" >Best Single Game Kills</p>
                    <p class="profileStat TEXT" id="bestSingleGameKillsStat"></p>
                </div>
                <div>
                    <p class="TEXT" >Most Precision Kills</p>
                    <p class="profileStat TEXT" id="mostPrecisionKillsStat"></p>
                </div>
                <div>
                    <p class="TEXT" >Best Kill Streak</p>
                    <p class="profileStat TEXT" id="bestKillStreakStat"></p>
                </div>
                <div>
                    <p class="TEXT" >Longest Kill Distance</p>
                    <p class="profileStat TEXT" id="longestKillDistanceStat"></p>
                </div>
                <div>
                    <p class="TEXT" >Best Weapon</p>
                    <p class="profileStat TEXT" id="bestWeaponStat"></p>
                </div>
            </div>
        </div>
        <div class="generalStatsBorder">
            <p class="TEXT" >General</p>
            <div class="GeneralStatsGrid">
                <div>
                    <p class="TEXT" >Activities Entered</p>
                    <p class="profileStat TEXT" id="activitiesEnteredStat"></p>
                </div>
                <div>
                    <p class="TEXT"  id="activititesClearedandWon">Activities Cleared</p>
                    <p class="profileStat TEXT" id="activitiesClearedStat"></p>
                </div>
                <div>
                    <p class="TEXT" >Objectives Completed</p>
                    <p class="profileStat TEXT" id="objectivesCompletedStat"></p>
                </div>
                <div id="publicEventCompletedDiv">
                    <p class="TEXT" >Public Event Completed</p>
                    <p class="profileStat TEXT" id="publicEventCompletedStat"></p>
                </div>
                <div id="publicEventsCompletedDiv">
                    <p class="TEXT" >Public Events Completed</p>
                    <p class="profileStat TEXT" id="publicEventsCompletedStat"></p>
                </div>
                <div id="adventuresCompletedDiv">
                    <p class="TEXT" >Adventures Completed</p>
                    <p class="profileStat TEXT" id="adventuresCompletedStat"></p>
                </div>
                <div id="winsDiv">
                    <p class="TEXT" >Wins</p>
                    <p class="profileStat TEXT" id="winsStat"></p>
                </div>
                <div id="winLossRatioDiv">
                    <p class="TEXT" >Win/Loss Ratio</p>
                    <p class="profileStat TEXT" id="winLossRatioStat"></p>
                </div>
            </div>
        </div>
        <div class="combatStatsBorder">
            <p class="TEXT" >Combat</p>
            <div class="CombatStatsGrid">
                <div>
                    <p class="TEXT" >K/D Ratio</p>
                    <p class="profileStat TEXT" id="killDeathRatioStat"></p>
                </div>
                <div>
                    <p class="TEXT" >K/D Average</p>
                    <p class="profileStat TEXT" id="killDeathAverageStat"></p>
                </div>
                <div id="averageScorePerKillDiv">
                    <p class="TEXT" >Average Score per Kill</p>
                    <p class="profileStat TEXT" id="averageScorePerKillStat"></p>
                </div>
                <div id="averageScorePerLifeDiv">
                    <p class="TEXT" >Average Score per Life</p>
                    <p class="profileStat TEXT" id="averageScorePerLifeStat"></p>
                </div>
                <div id="combatRatingDiv">
                    <p class="TEXT" >Combat Rating</p>
                    <p class="profileStat TEXT" id="combatRatingStat"></p>
                </div>
            </div>
        </div>
    </div>

    <!--Summary of comparisionCharts
        - Holds several canvas elements used by Chart.js to create graphs for visualisation
    -->
    <div class="comparisionCharts">
        <canvas class="chart" id="killsChart"></canvas>
        <canvas class="chart" id="deathsChart"></canvas>
        <canvas class="chart" id="scoreChart"></canvas>
        <canvas class="chart" id="timePlayedChart"></canvas>
        <canvas class="chart" id="longestLifeChart"></canvas>
        <canvas class="chart" id="averageLifeChart"></canvas>
        <canvas class="chart" id="teamScoreChart"></canvas>
        <canvas class="chart" id="assistsChart"></canvas>
        <canvas class="chart" id="precisionKillsChart"></canvas>
        <canvas class="chart" id="averageKillDistanceChart"></canvas>
        <canvas class="chart" id="opponentsDefeatedChart"></canvas>
        <canvas class="chart" id="suicidesChart"></canvas>
        <canvas class="chart" id="efficiencyChart"></canvas>
        <canvas class="chart" id="resurrectionsPerformedChart"></canvas>
        <canvas class="chart" id="resurrectionsReceivedChart"></canvas>
        <canvas class="chart" id="orbsDroppedChart"></canvas>
        <canvas class="chart" id="orbsGatheredChart"></canvas>
    </div>
    <canvas class="chart" id="weaponKillsChart"></canvas>
    <canvas class="chart" id="weaponKillsPvPChart"></canvas>
</body>
</html>
